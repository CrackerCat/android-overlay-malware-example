<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-dark.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <title>Android Overlay Malware Example by geeksonsecurity</title>
  </head>

  <body>

    <header>
      <div class="container">
        <h1>Android Overlay Malware Example</h1>
        <h2>Harmless Android malware using the overlay technique to steal user credentials.</h2>

        <section id="downloads">
          <a href="https://github.com/geeksonsecurity/android-overlay-malware-example/zipball/master" class="btn">Download as .zip</a>
          <a href="https://github.com/geeksonsecurity/android-overlay-malware-example/tarball/master" class="btn">Download as .tar.gz</a>
          <a href="https://github.com/geeksonsecurity/android-overlay-malware-example" class="btn btn-github"><span class="icon"></span>View on GitHub</a>
        </section>
      </div>
    </header>

    <div class="container">
      <section id="main_content">
        <h1>
<a id="android-malware-example" class="anchor" href="#android-malware-example" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Android Malware Example</h1>

<p>Harmless Android malware using the overlay technique to steal user credentials.</p>

<blockquote>
<p><strong>UPDATE</strong> starting with Android 5.1 the <a href="http://developer.android.com/reference/android/app/ActivityManager.html#getRunningAppProcesses">ActivityManager.getRunningAppProcess</a> API don't return all processes running on the system anymore. We moved to a more <em>naive</em> solution which doesn't require any permissions, for more information <a href="http://stackoverflow.com/questions/30619349/android-5-1-1-and-above-getrunningappprocesses-returns-my-application-packag">press here</a>.</p>
</blockquote>

<h2>
<a id="disclamier" class="anchor" href="#disclamier" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Disclamier</h2>

<p>This software is intended to sensitize users to this kind of attacks.
Don't use it for any other purposes!</p>

<h2>
<a id="quick-start" class="anchor" href="#quick-start" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Quick Start</h2>

<p>In the main screen you can select which application are going to be overlayed (currently between Linkedin, Skype, and UBS Mobile App).
Furthermore you can choose the type of overlay between:</p>

<ul>
<li>View overlay with <code>WindowsManager.addView</code>
</li>
<li>Activity overlay with <code>startActivity</code>
</li>
</ul>

<p>The application has been tested on Nexus 5 with Android 6 (Real device) and Nexus 5X with Android 4.4.2 (Emulator).</p>

<p>For more background information about overlays please check our <a href="http://www.geeksonsecurity.com/android-overlay-malware/2016/07/27/android-overlay-malware-analysis/">last blog post</a>.</p>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Installation</h2>

<p>First you need to download the last APK from the <a href="https://github.com/geeksonsecurity/android-overlay-malware-example/releases">project release page</a>.
If you prefer, you can clone the source and build the package yourself.
Since the package is not coming from Google Play, you need to enable the "Unknown sources" flag in the Security Settings of the device.
This last step is only required if you are deploying to a real device, emulators normally allows install of untrusted apps by default.
To install on a real device, you can issue the following command:</p>

<pre><code>adb install -r android-overlay-malware-example-X_X.apk
</code></pre>

<p>or just upload/download it from a cloud storage and install it directly on the phone. You should then find the Demo Malware application in the application list. Per default the malware will try to inject to all supported application, you can change this behaviour by adjusting the settings directly within the application.</p>

<h2>
<a id="some-screenshots" class="anchor" href="#some-screenshots" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Some screenshots</h2>

<h3>
<a id="home-screen" class="anchor" href="#home-screen" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Home Screen</h3>

<p><img src="https://github.com/geeksonsecurity/android-overlay-malware-example/raw/master/images/home.png" width="450" height="800"></p>

<h3>
<a id="skype-overlay" class="anchor" href="#skype-overlay" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Skype Overlay</h3>

<p><img src="https://github.com/geeksonsecurity/android-overlay-malware-example/raw/master/images/skype_overlay.png" width="450" height="800"></p>

<h3>
<a id="ubs-overlay" class="anchor" href="#ubs-overlay" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>UBS Overlay</h3>

<p><img src="https://github.com/geeksonsecurity/android-overlay-malware-example/raw/master/images/ubs_overlay.png" width="450" height="800"></p>
      </section>
    </div>

    
  </body>
</html>
